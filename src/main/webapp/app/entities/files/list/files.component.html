@if (currentAccount !== null) {
  <div class="row p-2 adaptive-width">
    <app-files-list-action [page_list_all]="page_list_all" [selectedFiles]="getSelectedFiles()"></app-files-list-action>

    <jhi-alert-error></jhi-alert-error>

    <jhi-alert></jhi-alert>

    <jhi-search-bar (onChangeEvent)="updateSearchQuery($event)"></jhi-search-bar>

    @if (files && files.length > 0) {
      <div class="table-responsive w-100">
        <table class="table table-hover table-striped" aria-describedby="user-files-uploaded">
          <thead>
            <tr jhiSort [(predicate)]="predicate" [(ascending)]="ascending" (sortChange)="transition()">
              <th>
                <input type="checkbox" class="form-check-input" (change)="selectAll($event)"/>
              </th>
              <th jhiSortBy="name" scope="col">
                <span jhiTranslate="files.table.thead.name">file name</span>
                <fa-icon icon="sort"></fa-icon>
              </th>
              <th jhiSortBy="createdDate" scope="col">
                <span jhiTranslate="files.table.thead.last_modified">last modified</span>
                <fa-icon icon="sort"></fa-icon>
              </th>
              <th scope="col">
                <span jhiTranslate="files.table.thead.user">user</span>
              </th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let file of files">
              <td style="width: 0;">
                <input type="checkbox" class="form-check-input" [checked]="isSelected(file.id)" (change)="toggleSelection(file.id)"/>
              </td>
              <td>
                <a [routerLink]="['/entity/files/', file.id, 'detail']">
                  <fa-icon [class]="(file.name | getFileIcon).class" [icon]="(file.name | getFileIcon).icon"></fa-icon>
                  {{ file.name }}
                </a>
              </td>
              <td>{{ file.createdDate | date: 'dd/MM/yy HH:mm' }}</td>
              <td>{{ file.createdBy }}</td>
              <td class="d-flex justify-content-end pe-4">
                <app-files-menu [fileId]="file.id" [pageFiles]="true"></app-files-menu>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div>
        <div class="d-flex justify-content-center">
          <jhi-item-count [params]="{ page: page, totalItems: totalItems, itemsPerPage: itemsPerPage }"></jhi-item-count>
        </div>
        <div class="d-flex justify-content-center">
          <ngb-pagination
            [collectionSize]="totalItems"
            [(page)]="page"
            [pageSize]="itemsPerPage"
            [maxSize]="5"
            [rotate]="true"
            [boundaryLinks]="true"
            (pageChange)="transition()"
          ></ngb-pagination>
        </div>
      </div>
    } @else {
      <div class="alert alert-warning" id="no-result">
        <span>No Documents found</span>
      </div>
    }
  </div>
} @else {
  <div class="alert alert-warning">
    <span jhiTranslate="global.messages.info.register.noaccount">Încă nu aveți un cont?</span>&nbsp;
    <a class="alert-link" routerLink="/account/register" jhiTranslate="global.messages.info.register.link">Înregistrați un cont nou</a>
  </div>
}
